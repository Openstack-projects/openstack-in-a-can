
{{- define "placement:/etc/placement/placement.conf" -}}
placement_database:
  connection: mysql+pymysql://placement-user:placement-password@/placement?unix_socket=/run/mysqld/mysqld.sock?charset=utf8

DEFAULT:
  logging_exception_prefix: "ERROR %(name)s [01;35m%(instance)s[00m"
  logging_default_format_string: "%(color)s%(levelname)s %(name)s [[00;36m-%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m"
  logging_context_format_string: "%(color)s%(levelname)s %(name)s [[01;36m%(global_request_id)s %(request_id)s [00;36m%(project_name)s %(user_name)s%(color)s] [01;35m%(instance)s%(color)s%(message)s[00m"
  debug: True

api:
  auth_strategy: keystone

keystone_authtoken:
  memcached_servers: {{ template "helpers.labels.fullname" . }}:11211
  project_domain_name: Default
  project_name: service
  user_domain_name: Default
  password: password
  username: placement
  auth_url: https://{{ template "helpers.labels.fullname" . }}/identity/
  cafile: /var/run/secrets/airshipit.org/tls/ca/ca.crt
  interface: public
  auth_type: password
{{- end -}}

{{- include "helpers.osh.oslo.overlay" ( dict "Global" $ "currentConfig" "placement:/etc/placement/placement.conf" ) -}}


